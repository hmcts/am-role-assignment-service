{
  "title": "Invoking POST role-assignments api with request to add a new role assignment",
  "_guid_": "S-250",
  "_extends_": "F-017_Test_Data_Base",

  "specs": [
    "has roleType Organisation, roleCategory Professional, roleName PRM_Test_GA_Role and attributes has caseAccessGroupId and caseType",
    "Befta6 - who invokes the API"
  ],

  "request": {
    "body": {
      "roleRequest": {
        "assignerId": "${[scenarioContext][testData][users][invokingUser][id]}",
        "process": "professional-organisational-role-mapping",
        "reference": "${[scenarioContext][testData][users][invokingUser][id]}",
        "replaceExisting": true
      },
      "requestedRoles": [
        {
          "_extends_": "RequestedRole_simple",

          "actorIdType": "IDAM",
          "actorId": "${[scenarioContext][testData][users][invokingUser][id]}",
          "roleType": "ORGANISATION",
          "roleName": "PRM_Test_GA_Role",
          "roleCategory": "PROFESSIONAL",
          "classification": "RESTRICTED",
          "grantType": "STANDARD",
          "attributes": {
            "jurisdiction": "PRIVATELAW",
            "caseType": "12345",
            "caseAccessGroupId": "12345"
          }
        }
      ]
    }
  },

  "expectedResponse": {
    "_extends_": "Common_201_Response",
    "body": {
      "roleAssignmentResponse": {
        "roleRequest": {
          "_extends_": "ResponseRoleRequest",
          "replaceExisting" : true
        },
        "requestedRoles": [
          {
            "id" : "[[ANYTHING_PRESENT]]",
            "actorIdType" : "IDAM",
            "actorId" : "[[ANYTHING_PRESENT]]",
            "roleType" : "ORGANISATION",
            "roleName" : "PRM_Test_GA_Role",
            "roleCategory" : "PROFESSIONAL",
            "classification" : "RESTRICTED",
            "grantType" : "STANDARD",
            "readOnly" : false,
            "beginTime" : "[[ANYTHING_PRESENT]]",
            "endTime" : "[[ANYTHING_PRESENT]]",
            "process" : "professional-organisational-role-mapping",
            "reference" : "${[scenarioContext][testData][request][body][roleRequest][reference]}",
            "status" : "LIVE",
            "created" : "[[ANYTHING_PRESENT]]",
            "log" : "[[ANYTHING_PRESENT]]",
            "attributes" : {
              "jurisdiction" : "PRIVATELAW",
              "caseType" : "12345",
              "caseAccessGroupId" : "12345",
              "substantive" : "Y"
            }
          }
        ]
      }
    }
  }

}
